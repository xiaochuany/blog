---
date: 
    created: 2025-08-02
authors: [xy]
categories: [TIL]
tags: [statistics, risk]
draft: true
---


# Vasicek in Basel
<!-- more -->


> be me 
> be Vasicek 


This post is not about Vasicek's life. It is about a legacy Vasicek left for the banking regulations.

## Capital requirement

![alt text](assets/2025-08-02-vasicek-1754403524354.png)

The above formula figures in the Basel framework for regulatory capital computation. You see the Gaussian distribution function, the probability of default, the correlation of obligors's asset value with a common factor for all obligors such as economic situation.

Where is this coming from?   


!!! reference

    http://mx.nthu.edu.tw/~jtyang/Teaching/Risk_management/Papers/Models/Probability%20of%20Loss%20on%20Loan%20Portfolio.pdf

    https://www.bankofgreece.gr/MediaAttachments/Vasicek.pdf

## One factor model

Capital is required to cover unexpected loss. Mathematically, the expected loss just means the expectation of the loss of a portfolio of instruments. The regulatory unexpected loss can be roughly translated to the difference between the quantile of the loss distribution and the expected value of the loss.

The one factor model postulates the following, the asset value of obligor $i$ is the 

$$
A_i = \sqrt{\rho} X + \sqrt{1-\rho} \epsilon_i
$$

where $(X,\epsilon_i, i=1,2,...)$ is iid Gaussian standard normal, and $X$ represents the common factor that influences the value of all assets. Notice that $(A_i)$ are standard Gaussian correlated with correlation $\rho$.  

Default event occurs if the asset value falls below a certain threshold $B_i$. The probability of default given $X$ is therefore

$$
P[A_i< B_i|X] = \Phi(\frac{B_i -\sqrt{\rho}X}{\sqrt{1-\rho}})
$$

where $\Phi$ is the CDF of a standard Gaussian. 

In real life, the (unconditional) probability of default may come from an internal model (say a logistic regression on obligor characteristics), denoted by $(p_i)$

$$
p_i = P[A_i<B_i]
$$

namely 

$$
B_i  = \Phi^{-1}(p_i).
$$

 
## Law of large numbers 

When the number of obligors in a portfolio is large, the law of large numbers kicks in,

$$
P\Big[\frac{1}{n}\sum_{i=1}^n I(A_i<\Phi^{-1}(p_i)) \to 
\Phi(\frac{B_i -\sqrt{\rho}X}{\sqrt{1-\rho}})|X
\Big] =1
$$

Assume that the loss incured by a default event is 1/n across all obligors in the portfolio, then the loss

$$
L = \frac{1}{n}\sum_{i=1}^n I(A_i<\Phi^{-1}(p_i)) \approx 
\Phi(\frac{\Phi^{-1}(p_i) -\sqrt{\rho}X}{\sqrt{1-\rho}}).
$$

## Quantile of the loss

We should 



Suppose that systematic source of the asset value has been as low as the 0.001 quantile.  

$$
\Phi(\frac{\Phi^{-1}(p_i)+\sqrt{\rho}\Phi^{-1}(0.999)}{\sqrt{1-\rho}})  
$$





, with $Y_i$ detnoing the value of i-th asset, $X$ the common factor having an impact on all asset values, and $\epsilon_i$ the individual factor that impacts only the asset i. The above formula is computing the conditional probability of default 

$$
P[Y_i<\Phi^{-1}(PD)| X = x] 
$$

with $x = \Phi^{-1}(0.001)$. 

Here the assumption is that the common factor has a correlation $\rho$ with the asset i across the board. 


The remaining modelling task it to figure out the risk parameters in this formula 

$$
(PD, \rho)
$$


